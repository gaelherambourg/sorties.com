{% extends 'base.html.twig' %}

{% block title %}Gérer les villes{% endblock %}

{% block body %}
    <h1>Gérer les villes</h1>

    {% if villes is not empty %}
        <div data-path="{{ path('suppr_ville') }}" class="supprVille">
            <table rules="all"class="listVille">
                <thead style="background-color: #999999" align="center">
                <tr>
                    <td>Ville</td>
                    <td>Code postal</td>
                    <td>Actions</td>
                </tr>
                </thead>
                {% for ville in villes %}
                    <tr align="center">
                        <td class="tdNomVille">{{ ville.nom }}</td>
                        <td class="tdCodePostalVille">{{ ville.codePostal }}</td>
                        <td>
                            <button data-ville="{{ ville.id }}" class="modifier">Modifier</button>
                            <button data-ville="{{ ville.id }}" class="supprimer">Supprimer</button>
                        </td>
                    </tr>
                {% endfor %}
                <tr>
                    {{ form_start(ville_form) }}
                        <td>{{ form_row(ville_form.nom) }}</td>
                        <td>{{ form_row(ville_form.codePostal) }}</td>
                        <td>{{ form_row((ville_form.Ajouter)) }}</td>
                    {{ form_end(ville_form) }}
                </tr>
            </table>
            <input class="urlVille" type="hidden" data-path="{{ path('recupVille') }}">
            <input class="urlVilleModif" type="hidden" data-path="{{ path('modifVille') }}">
        </div>
    {%  else %}
        <div>
            Aucune ville n'est encore présente.
        </div>
    {% endif %}


{% endblock %}
{% block javascripts %}
    <script type="text/javascript" src="{{ asset('js/villes.js') }}"></script>
{% endblock %}